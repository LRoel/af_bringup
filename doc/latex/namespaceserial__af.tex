\hypertarget{namespaceserial__af}{}\section{serial\+\_\+af Namespace Reference}
\label{namespaceserial__af}\index{serial\+\_\+af@{serial\+\_\+af}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classserial__af_1_1_encoder}{Encoder}
\begin{DoxyCompactList}\small\item\em 类用来存储里程计信息 \end{DoxyCompactList}\item 
class \hyperlink{classserial__af_1_1_fuse___g_p_s___odom}{Fuse\+\_\+\+G\+P\+S\+\_\+\+Odom}
\begin{DoxyCompactList}\small\item\em class \hyperlink{classserial__af_1_1_fuse___g_p_s___odom}{Fuse\+\_\+\+G\+P\+S\+\_\+\+Odom} 用来存储\+G\+P\+S和\+Encoder的信息 \end{DoxyCompactList}\item 
class \hyperlink{classserial__af_1_1_g_p_s}{G\+PS}
\begin{DoxyCompactList}\small\item\em 存储\+G\+P\+S信息的类 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceserial__af_a5187c1672dbeadeffa2db70fc33466fe}{sound\+\_\+range\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em 超声波数据初始化 \end{DoxyCompactList}\item 
def \hyperlink{namespaceserial__af_aabbd1e43de1cd4d1a46a61a1cb743e12}{range\+\_\+pub} (range\+\_\+msg)
\begin{DoxyCompactList}\small\item\em range\+\_\+pub range的激光输出函数 \end{DoxyCompactList}\item 
def \hyperlink{namespaceserial__af_aa88a0e49ebc995801b7957de5f840495}{serial\+\_\+process} (port=\textquotesingle{}/dev/pts/27\textquotesingle{}, baudrate=460800, timeout=1)
\begin{DoxyCompactList}\small\item\em serial\+\_\+process 串口线程 \end{DoxyCompactList}\item 
def \hyperlink{namespaceserial__af_af84db65a10932c888008e984b4bf980e}{main} ()
\begin{DoxyCompactList}\small\item\em main函数 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceserial__af_a193ccba55b824330c7d21685b14a6284}{crc\+\_\+novetal} = crcmod.\+mk\+Crc\+Fun(0x104\+C11\+D\+B7, 0, True, 0)
\begin{DoxyCompactList}\small\item\em crc32校验程序(\+G\+P\+S) \end{DoxyCompactList}\item 
\hyperlink{namespaceserial__af_ad9b17c1f4492249eb921e7d5ec2a50ec}{mutex} = threading.\+Lock()
\begin{DoxyCompactList}\small\item\em 线程锁 \end{DoxyCompactList}\item 
\hyperlink{namespaceserial__af_a35540907277fe0c8e8c3abb88c3e5186}{fuse\+\_\+gps\+\_\+odom} = \hyperlink{classserial__af_1_1_fuse___g_p_s___odom}{Fuse\+\_\+\+G\+P\+S\+\_\+\+Odom}()
\item 
\hyperlink{namespaceserial__af_ae7aa8b1dc138cd3376ea6f83f4e47c24}{sound\+\_\+range} = Laser\+Scan()
\begin{DoxyCompactList}\small\item\em 超声波模拟激光输出类 \end{DoxyCompactList}\item 
int \hyperlink{namespaceserial__af_a48355ec276db91ffbf4665ab2c216d76}{sound\+\_\+seq} = 0
\begin{DoxyCompactList}\small\item\em 超声波输出计数 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceserial__af_af84db65a10932c888008e984b4bf980e}\label{namespaceserial__af_af84db65a10932c888008e984b4bf980e}} 
\index{serial\+\_\+af@{serial\+\_\+af}!main@{main}}
\index{main@{main}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def serial\+\_\+af.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



main函数 

ros的初始化 serial线程的开始 spin线程的开始 \mbox{\Hypertarget{namespaceserial__af_aabbd1e43de1cd4d1a46a61a1cb743e12}\label{namespaceserial__af_aabbd1e43de1cd4d1a46a61a1cb743e12}} 
\index{serial\+\_\+af@{serial\+\_\+af}!range\+\_\+pub@{range\+\_\+pub}}
\index{range\+\_\+pub@{range\+\_\+pub}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{range\+\_\+pub()}{range\_pub()}}
{\footnotesize\ttfamily def serial\+\_\+af.\+range\+\_\+pub (\begin{DoxyParamCaption}\item[{}]{range\+\_\+msg }\end{DoxyParamCaption})}



range\+\_\+pub range的激光输出函数 

将list格式的range数据转发成ros\+\_\+laser模式,并通过/range/$\ast$ topic发出


\begin{DoxyParams}{Parameters}
{\em range\+\_\+msg} & range的输入\mbox{[}1,...,3\mbox{]}(list)\\
\hline
\end{DoxyParams}
{\bfseries Examples} 
\begin{DoxyCode}
>>> a = float(\textcolor{stringliteral}{"inf"})
inf
>>> b = float(\textcolor{stringliteral}{"inf"})
inf
>>> a + b
inf
>>> a * b
inf
>>> a + 12
inf
>>> a - 12
inf
\end{DoxyCode}
 \mbox{\Hypertarget{namespaceserial__af_aa88a0e49ebc995801b7957de5f840495}\label{namespaceserial__af_aa88a0e49ebc995801b7957de5f840495}} 
\index{serial\+\_\+af@{serial\+\_\+af}!serial\+\_\+process@{serial\+\_\+process}}
\index{serial\+\_\+process@{serial\+\_\+process}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{serial\+\_\+process()}{serial\_process()}}
{\footnotesize\ttfamily def serial\+\_\+af.\+serial\+\_\+process (\begin{DoxyParamCaption}\item[{}]{port = {\ttfamily \textquotesingle{}/dev/pts/27\textquotesingle{}},  }\item[{}]{baudrate = {\ttfamily 460800},  }\item[{}]{timeout = {\ttfamily 1} }\end{DoxyParamCaption})}



serial\+\_\+process 串口线程 

处理串口中的三包数据,\hyperlink{classserial__af_1_1_g_p_s}{G\+PS},里程计和超声波,G\+P\+S和里程计分别存储在\+G\+P\+S类和\+Encoder类中,在里程计接收过程中讲两个类的数据存储在融合类\+Fuse\+\_\+\+G\+P\+S\+\_\+\+Odom中.


\begin{DoxyParams}{Parameters}
{\em port} & 串口 \\
\hline
{\em baudrate} & 波特率 \\
\hline
{\em timeout} & 时间容差\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
ser\+\_\+1 读取的第一个串口值 

encoder\+\_\+a 串口剩余部分 

encoder\+\_\+b 解的串口数据 

crc 解的串口校验值 

encoder\+\_\+crc 计算的串口校验值
\end{DoxySeeAlso}
\begin{DoxyParagraph}{Notes}
G\+P\+S和超声波数据类似里程计读取流程 
\end{DoxyParagraph}
\mbox{\Hypertarget{namespaceserial__af_a5187c1672dbeadeffa2db70fc33466fe}\label{namespaceserial__af_a5187c1672dbeadeffa2db70fc33466fe}} 
\index{serial\+\_\+af@{serial\+\_\+af}!sound\+\_\+range\+\_\+init@{sound\+\_\+range\+\_\+init}}
\index{sound\+\_\+range\+\_\+init@{sound\+\_\+range\+\_\+init}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{sound\+\_\+range\+\_\+init()}{sound\_range\_init()}}
{\footnotesize\ttfamily def serial\+\_\+af.\+sound\+\_\+range\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



超声波数据初始化 

\begin{DoxySeeAlso}{See also}
range\+\_\+max 超声波最远距离 

range\+\_\+min 超声笔最小距离(本来是0.290),range值小于等于最小值,输出无效,固最小值缩小 

scan\+\_\+time 超声波扫描时间 

time\+\_\+increment 超声波模拟激光模拟数据 

angle\+\_\+increment 超声波模拟激光模拟数据 

angle\+\_\+min 超声波的探测角(±30°) 

angle\+\_\+max 超声波的探测角(±30°) 
\end{DoxySeeAlso}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceserial__af_a193ccba55b824330c7d21685b14a6284}\label{namespaceserial__af_a193ccba55b824330c7d21685b14a6284}} 
\index{serial\+\_\+af@{serial\+\_\+af}!crc\+\_\+novetal@{crc\+\_\+novetal}}
\index{crc\+\_\+novetal@{crc\+\_\+novetal}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{crc\+\_\+novetal}{crc\_novetal}}
{\footnotesize\ttfamily serial\+\_\+af.\+crc\+\_\+novetal = crcmod.\+mk\+Crc\+Fun(0x104\+C11\+D\+B7, 0, True, 0)}



crc32校验程序(\+G\+P\+S) 

\mbox{\Hypertarget{namespaceserial__af_a35540907277fe0c8e8c3abb88c3e5186}\label{namespaceserial__af_a35540907277fe0c8e8c3abb88c3e5186}} 
\index{serial\+\_\+af@{serial\+\_\+af}!fuse\+\_\+gps\+\_\+odom@{fuse\+\_\+gps\+\_\+odom}}
\index{fuse\+\_\+gps\+\_\+odom@{fuse\+\_\+gps\+\_\+odom}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{fuse\+\_\+gps\+\_\+odom}{fuse\_gps\_odom}}
{\footnotesize\ttfamily serial\+\_\+af.\+fuse\+\_\+gps\+\_\+odom = \hyperlink{classserial__af_1_1_fuse___g_p_s___odom}{Fuse\+\_\+\+G\+P\+S\+\_\+\+Odom}()}

\mbox{\Hypertarget{namespaceserial__af_ad9b17c1f4492249eb921e7d5ec2a50ec}\label{namespaceserial__af_ad9b17c1f4492249eb921e7d5ec2a50ec}} 
\index{serial\+\_\+af@{serial\+\_\+af}!mutex@{mutex}}
\index{mutex@{mutex}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{mutex}{mutex}}
{\footnotesize\ttfamily serial\+\_\+af.\+mutex = threading.\+Lock()}



线程锁 

\mbox{\Hypertarget{namespaceserial__af_ae7aa8b1dc138cd3376ea6f83f4e47c24}\label{namespaceserial__af_ae7aa8b1dc138cd3376ea6f83f4e47c24}} 
\index{serial\+\_\+af@{serial\+\_\+af}!sound\+\_\+range@{sound\+\_\+range}}
\index{sound\+\_\+range@{sound\+\_\+range}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{sound\+\_\+range}{sound\_range}}
{\footnotesize\ttfamily serial\+\_\+af.\+sound\+\_\+range = Laser\+Scan()}



超声波模拟激光输出类 

\mbox{\Hypertarget{namespaceserial__af_a48355ec276db91ffbf4665ab2c216d76}\label{namespaceserial__af_a48355ec276db91ffbf4665ab2c216d76}} 
\index{serial\+\_\+af@{serial\+\_\+af}!sound\+\_\+seq@{sound\+\_\+seq}}
\index{sound\+\_\+seq@{sound\+\_\+seq}!serial\+\_\+af@{serial\+\_\+af}}
\subsubsection{\texorpdfstring{sound\+\_\+seq}{sound\_seq}}
{\footnotesize\ttfamily int serial\+\_\+af.\+sound\+\_\+seq = 0}



超声波输出计数 

